extends layout

block content
    div(class="small-12 columns edit-block")
        h3 Edit Event
        form(class="event-creation-form")
            label(for="name") Name
            input(type="text", name="name", class="event-name-input", value="#{eventHeader.title}")
            label(for="date") Date
            input(type="date", name="date", class="event-date-input", value="#{eventHeader.date}")
            label(for="staff") Staff (solely for display purposes)
            input(type="text", name="staff", class="event-staff-input", value="#{eventHeader.staff}")
            label(for="description") Description
            textarea(name="description", class="event-description-input")= eventHeader.description
            div(class="add-instance-button radius small button add-main-instance") Add New Event Filter
            div(class="instance-block")
                each currentEvent, index in events
                    div(class="filter-instance instance-#{index}", instance-id="#{index}")
                        div(class="remove-instance")
                            i(class="fa fa-close")
                        h6(class="event-instance-header") For Positions:
                        div(class="event-checkbox-collection position-selection")
                            div
                                p(class="link-sim toggle-all") Toggle All
                            each position in positions
                                div(class="checkbox-selection")
                                    if currentEvent.positions.indexOf(position.id) != -1
                                        input(type="checkbox", class="checkbox position-checkbox", value="#{position.id}", checked="checked")
                                    else
                                        input(type="checkbox", class="checkbox position-checkbox", value="#{position.id}")
                                    label(class="checkbox-label")= position.name
                        h6(class="event-instance-header") that are in Buildings (leave blank for none):
                        div(class="event-checkbox-collection event-selection")
                            div
                                p(class="link-sim toggle-all") Toggle All
                            each building in buildings
                                div(class="checkbox-selection")
                                    if currentEvent.buildings.indexOf(building.id) != -1
                                        input(type="checkbox", class="checkbox building-checkbox", value="#{building.id}", checked="checked")
                                    else
                                        input(type="checkbox", class="checkbox building-checkbox", value="#{building.id}")
                                    label(class="checkbox-label")= building.name
                        h6(class="event-instance-header")!= "<b>or</b> that are in groups"
                        div(class="event-checkbox-collection group-selection")
                            div
                                p(class="link-sim toggle-all") Toggle All
                            each group in groups
                                div(class="checkbox-selection")
                                    if currentEvent.groups.indexOf(group.id) != -1
                                        input(type="checkbox", class="checkbox group-checkbox", value="#{group.id}", checked="checked")
                                    else
                                        input(type="checkbox", class="checkbox group-checkbox", value="#{group.id}")
                                    label(class="checkbox-label")= group.name
                        h6 containing
                        if currentEvent.experience == 2
                            input(class="checkbox", type="radio", name="experience-#{index}", value="2", checked="checked")
                        else
                            input(class="checkbox", type="radio", name="experience-#{index}", value="2")
                        label(class="checkbox-label") New and Returning Staff
                        if currentEvent.experience == 0
                            input(class="checkbox new-staff-input", type="radio", name="experience-#{index}", value="0", checked="checked")
                        else
                            input(class="checkbox new-staff-input", type="radio", name="experience-#{index}", value="0")
                        label(class="checkbox-label") New Staff Only
                        if currentEvent.experience == 1
                            input(class="checkbox Returning-staff-input", type="radio", name="experience-#{index}", value="1", checked="checked")
                        else
                            input(class="checkbox returning-staff-input", type="radio", name="experience-#{index}", value="0")
                        label(class="checkbox-label") Returning Staff Only
                        label Location
                        input(type="text", name="location", class="event-location-input", value="#{currentEvent.location}")
                        label Start Time
                        input(type="time", name="starttime", class="start-time", value="#{currentEvent.startTime}")
                        label End Time
                        input(type="time", name="endtime", class="end-time", value="#{currentEvent.endTime}")
            input(type="submit", value="Edit Event", class="button small radius")

block scripts
    script.
        $(document).ready(function() {
            var hm = new HousingManager({ page: "eventEditing", linkingId: "#{linkingId}" });
        });