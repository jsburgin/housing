extends ../layout

block content
    div(class="large-12 columns")
        h3 Edit User

    div(class="large-6 columns")
        if error
            p(class="error")= error   
        form(class="create-user-form", action="/users/edit/", method="post")
            input(type="hidden", name="id", value="#{user.id}")
            label(for="firstname") First Name
            input(type="text", name="firstname", value="#{user.firstname}")
            label(for="lastname") Last Name
            input(type="text", name="lastname", value="#{user.lastname}")
            label(for="email") Email
            input(type="email", name="email", value="#{user.email}")
            label(for="position") Positon
            select(name="position", value="#{user.positionid}")
                each position in positions
                    if user.positionid == position.id
                        option(value=position.id, selected="selected")= position.name
                    else
                        option(value=position.id)= position.name    
            label(for="building") Building        
            select(name="building", value="#{user.buildingid}")
                each building in buildings
                    if user.buildingid == building.id
                        option(value=building.id, selected="selected")= building.name
                    else
                        option(value=building.id)= building.name
            label(for="") Group
            each group in groups
                if (user.groups.indexOf(group.id) != -1)
                    input(type="checkbox", name="groups[]", value=group.id, checked="checked")
                else
                    input(type="checkbox", name="groups[]", value=group.id)
                label(for="groups[]")= group.name
            label(for="experience") Experience
            select(name="experience")
                if (user.experience == 0)
                    option(value="0", selected="selected") New Staff
                    option(value="1") Returning Staff
                else
                    option(value="0") New Staff
                    option(value="1", selected="selected") Returning Staff    
            label(for="room") Room Number
            input(type="number", name="room", value="#{user.room}")
            input(type="submit", value="Update User", class="small radius button")
        form(class="remove-user-form", action="/users/remove", method="post")
            input(type="hidden", name="id", value="#{user.id}")
            input(type="submit", value="Remove User", class="small radius button delete-user-button")
    div(class="large-6 columns")
             
